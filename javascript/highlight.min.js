

var videoElement = document.getElementById('video');
var transcriptElement = document.getElementById('transcript');
var captionElement = document.querySelectorAll('span');


transcriptElement.addEventListener('click', (event) => {
  if (event.target.tagName === 'span') {
    videoElement.currentTime = event.target.getAttribute('data-start');
  }
});


$('#video').on('timeupdate', () => {
    for(var i = 0; i < captionElement.length; ++i) {
        var time = videoElement.currentTime;
        var start = captionElement[i].getAttribute('data-start');
        var end = captionElement[i].getAttribute('data-end');
        if(time > start && time < end) {
            captionElement[i].className = 'highlight';
        } else {
            captionElement[i].className = "";
        }
    }
});